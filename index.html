<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyectos</title>
    <style>
        body {
            margin: 0;
            font-family: 'Orbitron', sans-serif;
            background-color: #fff;
            color: #000;
            text-align: center;
            scroll-behavior: smooth; /* Desplazamiento suave */
            overflow-x: hidden; /* Evitar desplazamiento horizontal */
        }
        .header {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
        }
        .content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 10px;
        }
        h1, h2 {
            margin: 10px 0;
        }
        p {
            font-size: 18px;
            line-height: 1.5;
        }
        .project {
            position: relative;
            width: 100%;
            height: 100vh;
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            display: none; /* Ocultar proyectos inicialmente */
        }
        .project-left {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding: 40px;
            text-align: left;
            display: none; /* Ocultar proyectos inicialmente */
        }
        .project-left img {
            width: 40%;
            height: auto;
            max-height: 90vh;
            object-fit: contain;
            margin-right: 20px;
            border: 5px solid #e0e0e0; /* Marco gris */
            border-radius: 10px; /* Bordes redondeados */
        }
        .project-left .content {
            max-width: 50%;
        }
        .dual-image-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 40px;
            display: none; /* Ocultar proyectos inicialmente */
        }
        .dual-image-section img {
            width: 40%;
            height: auto;
            max-height: 90vh;
            object-fit: contain;
            border: 5px solid #e0e0e0; /* Marco gris */
            border-radius: 10px; /* Bordes redondeados */
        }
        .show-button {
            background-color: #fff;
            color: #444;
            border: 1px solid #e0e0e0;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
            transition: box-shadow 0.3s ease;
        }
        .show-button:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Sombra al pasar el ratón */
        }
        .image-container {
            position: relative;
            display: inline-block;
            width: 40%; /* Igual que las imágenes en otras secciones */
        }
        .image-container img {
            width: 100%;
            height: auto;
            max-height: 90vh;
            object-fit: contain;
            border: 5px solid #e0e0e0; /* Marco gris */
            border-radius: 10px; /* Bordes redondeados */
        }
        .image-container p {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(255, 255, 255, 0.7);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 16px;
            color: black;
            margin: 0;
        }
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background-color: #f5f5f5; /* Gris claro */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: flex;
            justify-content: center;
            padding: 10px 0;
            border-bottom: 1px solid #d0d0d0; /* Línea de separación más definida */
        }
        .navbar button {
            background-color: #fff;
            color: #444;
            border: 1px solid #e0e0e0;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
            margin: 0 5px;
            transition: box-shadow 0.3s ease;
        }
        .navbar button:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Sombra al pasar el ratón */
        }
        .dropdown {
            position: relative;
            display: inline-block;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #fff;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 1;
            border-radius: 5px;
        }
        .dropdown-content button {
            color: #444;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            width: 100%;
            text-align: left;
            border: none;
            background-color: #fff;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .dropdown-content button:hover {
            background-color: #f1f1f1; /* Fondo gris claro al pasar el ratón */
        }
        .dropdown:hover .dropdown-content {
            display: block;
        }
        .separator {
            width: 60%;
            height: 1px;
            background-color: #e0e0e0; /* Línea gris */
            margin: 40px auto; /* Centrado y con espacio */
            display: none; /* Ocultar separadores por defecto */
        }
        .portfolio-page {
            display: none;
            padding: 40px;
        }
        .minifolletos-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        .minifolleto {
            width: 300px;
            background-color: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: box-shadow 0.3s ease;
        }
        .minifolleto:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Sombra al pasar el ratón */
        }
        .minifolleto img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }
        .minifolleto .descripcion {
            padding: 15px;
            text-align: left;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="navbar">
        <button onclick="irAInicio()">Inicio</button>
        <button onclick="mostrarCV()">CV</button>
        <div class="dropdown">
            <button onclick="mostrarPortfolio()">Portfolio Proyectos</button>
            <div class="dropdown-content">
                <button onclick="mostrarProyecto('motor')">Motor Híbrido</button>
                <button onclick="mostrarProyecto('cohete')">Cohete</button>
            </div>
        </div>
    </div>

    <section class="header">
        <div class="content">
            <h1>Proyectos</h1>
            <h2>Jorge Pérez Carrillo</h2>
        </div>
    </section>
    
    <!-- Secciones del Motor Híbrido -->
    <section id="motor" class="project" style="background-image: url('imagenes/fond.jpg');">
        <div class="overlay"></div>
        <div class="content">
            <h2>Motor Híbrido</h2>
            <p>Proyecto personal de desarrollo de un <strong>motor híbrido de cohete</strong>, utilizando <strong>parafina como combustible y óxido nitroso (N₂O) como oxidante</strong>. 
            El sistema incluye un <strong>suministro presurizado de N₂O</strong>, una <strong>cámara de combustión optimizada</strong> y un <strong>inyector en diseño</strong>.</p>
        </div>
    </section>

    <section id="motor-diseno" class="project" style="background-image: url('imagenes/diagramahib.jpg');">
        <div class="overlay"></div>
        <div class="content">
            <h2>Motor Híbrido - Sistema de Alimentación de N₂O</h2>
            <p><Strong>Sistema de alimentación de N₂O</Strong> con <strong>servo-válvulas</Strong> de diseño propio, controladas por un <Strong>microcontrolador</Strong>, <Strong>transductores de presión</Strong> para <strong>monitoreo en tiempo real</Strong> y una válvula de purga para evacuación segura del oxidante antes o después de la operación. Además, las <Strong>servo-válvulas</Strong> permiten evaluar la posibilidad de regular <Strong>el flujo de oxidante</Strong> para un mayor <strong>control del impulso</Strong>.</p>
        </div>
    </section>
    
    <section id="motor-simulacion" class="project" style="background-image: url('imagenes/simul.jpg');">
        <div class="overlay"></div>
        <div class="content">
            <h2>Motor Híbrido - Simulación</h2>
            <p>En paralelo con el desarrollo del motor, estoy creando un <strong>programa de simulación en MATLAB Simulink</strong>, que modela el vaciado del tanque, el flujo del oxidante y el rendimiento del motor en distintas condiciones.</p>
        </div>
    </section>

    <section id="motor-cfd" class="project" style="background-image: url('imagenes/CFX-inyector1espiral.jpg');">
        <div class="overlay"></div>
        <div class="content">
            <h2>Motor Híbrido - CFD para Inyectores</h2>
            <p>Estoy utilizando herramientas de <strong>Computational Fluid Dynamics (CFD)</strong> para simular y optimizar el diseño de los inyectores del motor híbrido. Estas simulaciones permiten analizar el flujo de combustible y oxidante, asegurando una mezcla eficiente y un rendimiento óptimo.</p>
        </div>
    </section>
    
    <!-- Secciones del Cohete -->
    <section id="cohete" class="project-left">
        <div class="image-container">
            <img src="imagenes/escala.jpg" alt="Imagen Cohete">
            <p>Cohete</p>
        </div>
        <div class="content">
            <h2>Cohete</h2>
            <p>Proyecto personal de desarrollo de un cohete experimental diseñado completamente desde cero. Desde la estructura hasta el sistema de eyección, cada componente ha sido fabricado y probado para garantizar un funcionamiento eficiente y seguro.</p>
            <p>El cohete incorpora un sistema de recuperación con paracaídas, una electrónica personalizada y un motor desarrollado a medida. Los datos de vuelo se almacenan y posteriormente se procesan en MATLAB para analizar el rendimiento del lanzamiento.</p>
        </div>
    </section>

    <div class="separator" id="separator-1"></div> <!-- Separador gris -->

    <section id="cohete-propulsion" class="dual-image-section">
        <div class="image-container">
            <img src="imagenes/graficag134.jpg" alt="Banco de pruebas 1">
            <p>Gráfica de la prueba de la derecha</p>
        </div>
        <div class="content">
            <h2>Cohete - Propulsión</h2>
            <p>Desarrollo y prueba de <strong>motores de combustible sólido</strong>. El diseño principal corresponde a un <strong>motor de clase G130</strong> para el cohete, con posibilidad de adaptación a motores de clase H.</p>
            <p>Ayudándome de las simulaciones del software de <strong>OpenMotor</strong>, y de una <strong>hoja de Excel</strong> de elaboración propia para la comprobación de la integridad estructural del motor, asegurando que los materiales y dimensiones seleccionados soporten las cargas y esfuerzos durante su funcionamiento. </p>
            <button class="show-button" onclick="abrirVentanaSinTexto('imagenes/g134al.jpg', 'Plano del Motor')">Ver imagen Plano del motor</button>
        </div>
        <div class="image-container">
            <img src="imagenes/tobera2.jpg" alt="Banco de pruebas 2">
            <p>Prueba</p>
        </div>
    </section>

    <div class="separator" id="separator-2"></div> <!-- Separador gris -->

    <section id="cohete-electronica" class="dual-image-section">
        <div class="image-container">
            <img src="imagenes/electronica frontal.jpg" alt="Electrónica 1">
            <p>Electrónica Frontal</p>
        </div>
        <div class="content">
            <h2>Cohete - Electrónica</h2>
            <p>La electrónica incorporada al cohete está basada en un ESP32, acompañado de módulos de barómetro y giroscopio para la adquisición de datos en vuelo. El sistema de eyección de paracaídas por carga pirotécnica es un diseño propio, probado para la recuperación del cohete. Además, cuenta con un módulo de almacenamiento de datos para el análisis post-lanzamiento.</p>
            <button class="show-button" onclick="abrirVentanaConTexto('imagenes/venusv2.jpg', 'Electrónica Prototipo', 'Este es mi primer prototipo de electrónica desarrollado en KICAD, está basado en un STM32 e incluye los mismos sensores que la anterior electrónica. Finalmente, la electrónica utilizada en el cohete es la anteriormente mostrada, dada su mayor simplicidad y mi mayor dominio en su lenguaje de programación.', 'imagenes/venus6.jpg')">Electrónica Prototipo</button>
        </div>
        <div class="image-container">
            <img src="imagenes/electronicainterpretacion.jpg" alt="Electrónica 2">
            <p>Electrónica Interpretación</p>
        </div>
    </section>

    <div class="separator" id="separator-3"></div> <!-- Separador gris -->

    <section id="cohete-estructura" class="dual-image-section">
        <div class="image-container">
            <img src="imagenes/estructurainterna.jpg" alt="Estructura 1">
            <p>Estructura Interna</p>
        </div>
        <div class="content">
            <h2>Cohete - Estructura</h2>
            <p>La estructura del cohete no requiere una resistencia extrema, ya que las cargas mecánicas, la aceleración y las fuerzas aerodinámicas a las que está sometido no son particularmente elevadas, dado que el motor está diseñado para alcanzar una baja altitud (100m) y velocidades.</p>
            <p>Los materiales utilizados son PVC para el fuselaje, PLA para las aletas, cono y estructuras interiores (como bahía de la electrónica), y madera para los anillos de separación de cada sección.</p>
        </div>
        <div class="image-container">
            <img src="imagenes/sinenchufe3.jpg" alt="Estructura 2">
            <p>Estructura Externa</p>
        </div>
    </section>

    <div class="separator" id="separator-4"></div> <!-- Separador gris -->

    <section id="cohete-recuperacion" class="dual-image-section">
        <div class="image-container">
            <img src="imagenes/eyeccion1.jpg" alt="Sistema de Eyección 1">
            <p>Sistema de Eyección</p>
        </div>
        <div class="content">
            <h2>Cohete - Sistema de Recuperación</h2>
            <p>El <strong>sistema de recuperación</strong> está compuesto por el <strong>paracaídas</strong> y el <strong>sistema de eyección</strong>, y está diseñado para desplegar el paracaídas en el momento exacto del apogeo (~100m) para asegurar la recuperación y posible reutilización del cohete. Utiliza una carga pirotécnica controlada por la electrónica para eyectar el cono y liberar el paracaídas. Tanto el cono, como el cohete están asegurados al paracaídas.</p>
            <p>Inicialmente el <strong>paracaídas</strong> estaba diseñado para una velocidad de descenso de 5 m/s, finalmente, tras cambios no previstos en la masa del cohete, esta velocidad aumenta a un valor entre 7 y 8 m/s. El material utilizado ha sido el poliéster, dado que era más accesible y económico que el nylon o el kevlar.</p>
            <p>El <strong>sistema de eyección</strong> es una carga pirotécnica controlada desde la electrónica del cohete, la cual genera una rápida expansión de los gases que aumenta la presión e impulsa el <strong>paracaídas</strong> y el cono.</p>
        </div>
        <div class="image-container">
            <img src="imagenes/paracaidas1.jpg" alt="Sistema de Paracaídas 1">
            <p>Paracaídas</p>
        </div>
    </section>

    <!-- Página de Portfolio -->
    <section id="portfolio-page" class="portfolio-page">
        <div class="content">
            <h2>Portfolio Proyectos</h2>
            <div class="minifolletos-container">
                <div class="minifolleto" onclick="mostrarProyecto('motor')">
                    <img src="imagenes/CFX-inyector1espiral.jpg" alt="Motor Híbrido">
                    <div class="descripcion">
                        <h3>Motor Híbrido</h3>
                        <p>Desarrollo de un motor híbrido de cohete utilizando parafina y óxido nitroso.</p>
                    </div>
                </div>
                <div class="minifolleto" onclick="mostrarProyecto('cohete')">
                    <img src="imagenes/folletocohete.jpg" alt="Cohete">
                    <div class="descripcion">
                        <h3>Cohete</h3>
                        <p>Diseño y construcción de un cohete experimental con sistema de recuperación.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Función para mostrar el proyecto seleccionado
        function mostrarProyecto(proyecto) {
            // Ocultar todas las secciones de proyectos y separadores
            document.querySelectorAll('.project, .project-left, .dual-image-section, .separator, .portfolio-page').forEach(function(section) {
                section.style.display = 'none';
            });

            // Mostrar las secciones correspondientes al proyecto seleccionado
            if (proyecto === 'motor') {
                document.querySelectorAll('#motor, #motor-diseno, #motor-simulacion, #motor-cfd').forEach(function(section) {
                    section.style.display = 'flex';
                });
                // Desplazamiento suave a la primera sección del motor
                document.getElementById('motor').scrollIntoView({ behavior: 'smooth' });
            } else if (proyecto === 'cohete') {
                document.querySelectorAll('#cohete, #cohete-propulsion, #cohete-electronica, #cohete-estructura, #cohete-recuperacion').forEach(function(section) {
                    section.style.display = 'flex';
                });
                // Mostrar separadores solo para el proyecto del cohete
                document.querySelectorAll('#separator-1, #separator-2, #separator-3, #separator-4').forEach(function(separator) {
                    separator.style.display = 'block';
                });
                // Desplazamiento suave a la primera sección del cohete
                document.getElementById('cohete').scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Función para ir a la página de inicio
        function irAInicio() {
            document.querySelector('.header').scrollIntoView({ behavior: 'smooth' });
        }

        // Función para mostrar el CV (por ahora no hace nada)
        function mostrarCV() {
            alert("CV no disponible por el momento.");
        }

        // Función para mostrar la página de portfolio
        function mostrarPortfolio() {
            // Ocultar todas las secciones de proyectos y separadores
            document.querySelectorAll('.project, .project-left, .dual-image-section, .separator').forEach(function(section) {
                section.style.display = 'none';
            });
            // Mostrar la página de portfolio
            document.getElementById('portfolio-page').style.display = 'block';
            document.getElementById('portfolio-page').scrollIntoView({ behavior: 'smooth' });
        }

        // Función para abrir ventana sin texto (Plano del Motor)
        function abrirVentanaSinTexto(imagen, titulo) {
            var nuevaVentana = window.open("", "_blank", "width=800,height=600");
            nuevaVentana.document.write(
                `<html>
                <head>
                    <title>${titulo}</title>
                    <style>
                        body { 
                            margin: 0; 
                            display: flex; 
                            justify-content: center; 
                            align-items: center; 
                            height: 100vh; 
                            background-color: white; 
                        }
                        img { 
                            max-width: 100%; 
                            max-height: 90vh; 
                        }
                    </style>
                </head>
                <body>
                    <img src="${imagen}" alt="${titulo}">
                </body>
                </html>`
            );
        }

        // Función para abrir ventana con texto y dos imágenes (Electrónica Prototipo)
        function abrirVentanaConTexto(imagen1, titulo, texto, imagen2) {
            var nuevaVentana = window.open("", "_blank", "width=800,height=800");
            nuevaVentana.document.write(
                `<html>
                <head>
                    <title>${titulo}</title>
                    <style>
                        body { 
                            margin: 0; 
                            display: flex; 
                            flex-direction: column; 
                            justify-content: center; 
                            align-items: center; 
                            height: 100vh; 
                            background-color: white; 
                            color: black; 
                            font-family: Arial, sans-serif; 
                            padding: 20px; 
                            box-sizing: border-box; 
                        }
                        .container {
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            gap: 20px;
                        }
                        img { 
                            max-width: 100%; 
                            max-height: 40vh; 
                        }
                        p { 
                            max-width: 600px; 
                            font-size: 16px; 
                            line-height: 1.5; 
                            text-align: center; 
                        }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <p>${texto}</p>
                        <img src="${imagen1}" alt="Imagen 1">
                        <img src="${imagen2}" alt="Imagen 2">
                    </div>
                </body>
                </html>`
            );
        }
    </script>
</body>
</html>
